<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>AI Resume Builder</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: 50px auto; padding: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, textarea { width: 100%; padding: 8px; margin-top: 5px; }
    button { margin-top: 15px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
    #preview { background: #f7f7f7; padding: 15px; white-space: pre-wrap; border-radius: 5px; }
  </style>
</head>
<body>

<h1>AI –†–µ–∑—é–º–µ –°–æ–∑</h1>
<p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –∏ AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ!</p>

<form id="resumeForm">
  <label>–ò–º—è:</label>
  <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>

  <label>–ö–æ–Ω—Ç–∞–∫—Ç (–¢–µ–ª–µ—Ñ–æ–Ω / Telegram / Email):</label>
  <input type="text" placeholder="+992 XX XXX XX XX" required>

  <label>–û–ø—ã—Ç / –ú–æ—Ç–∏–≤–∞—Ü–∏—è:</label>
  <textarea placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ–ø—ã—Ç, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ —Ü–µ–ª–∏" required></textarea>

  <button type="submit">–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑—é–º–µ</button>
</form>

<div id="preview" style="margin-top:20px;">
  <!-- AI —Ä–µ–∑—é–º–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ –∑–¥–µ—Å—å -->
</div>

<button id="downloadPDF" style="margin-top:10px;">–°–∫–∞—á–∞—Ç—å PDF</button>

<!-- jsPDF –¥–ª—è PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- JS –∫–æ–¥ –¥–ª—è AI + Telegram -->
<script>
const form = document.getElementById("resumeForm");
const preview = document.getElementById("preview");

form.addEventListener("submit", async function(e){
  e.preventDefault();

  const name = form.querySelectorAll("input")[0].value;
  const contact = form.querySelectorAll("input")[1].value;
  const experience = form.querySelector("textarea").value;

  // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ prompt –¥–ª—è AI
  const prompt = `–°–æ—Å—Ç–∞–≤—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ –¥–ª—è:
–ò–º—è: ${name},
–ö–æ–Ω—Ç–∞–∫—Ç: ${contact},
–û–ø—ã—Ç –∏ —Ü–µ–ª–∏: ${experience}.
–°–¥–µ–ª–∞–π –∫—Ä–∞—Å–∏–≤–æ, –∫–æ—Ä–æ—Ç–∫–æ, –≥–æ—Ç–æ–≤–æ –¥–ª—è PDF, —á–µ—Å—Ç–Ω–æ–µ –∏ –ø—Ä–∞–≤–¥–∏–≤–æ–µ.`;

  preview.innerHTML = "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—é–º–µ... ‚è≥";

  try {
    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer –¢–û–ö–ï–ù_–ù–ê–í"  // <- —Å—é–¥–∞ –≤—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω OpenAI
      },
      body: JSON.stringify({
        model: "gpt-3.5-turbo",
        messages: [{role: "user", content: prompt}],
        max_tokens: 600
      })
    });

    const data = await response.json();
    const resumeText = data.choices[0].message.content;

    preview.innerHTML = `<pre>${resumeText}</pre>`;

    // Telegram –æ—Ç–ø—Ä–∞–≤–∫–∞
    sendToTelegram(name, contact, resumeText);

  } catch (err) {
    preview.innerHTML = "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∑—é–º–µ.";
    console.error(err);
  }
});

function sendToTelegram(name, contact, resume) {
  const message = `üìù –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞
üë§ –ò–º—è: ${name}
üì© –ö–æ–Ω—Ç–∞–∫—Ç: ${contact}
üíº –†–µ–∑—é–º–µ: ${resume}`;

  fetch("https://api.telegram.org/bot–¢–û–ö–ï–ù_TELEGRAM/sendMessage", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({chat_id: "7301555090", text: message})
  })
  .then(res => console.log("Telegram –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!"))
  .catch(err => console.error("–û—à–∏–±–∫–∞ Telegram:", err));
}

// PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
document.getElementById("downloadPDF").addEventListener("click", () => {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  doc.text(preview.innerText, 10, 10);
  doc.save("resume.pdf");
});
</script>

</body>
</html>



